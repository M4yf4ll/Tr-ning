<!DOCTYPE html>

<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brandmans Intervalltr√§ning</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #ff6b35 0%, #dc2626 50%, #b91c1c 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 24px;
        }
        h1 {
            font-size: 28px;
            color: #dc2626;
            text-align: center;
            margin-bottom: 8px;
        }
        .subtitle {
            text-align: center;
            color: #666;
            font-size: 14px;
            margin-bottom: 20px;
        }
        .progress-box {
            background: #f3f4f6;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 24px;
        }
        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            font-size: 14px;
        }
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #d1d5db;
            border-radius: 4px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: #dc2626;
            transition: width 0.3s;
        }
        .timer {
            text-align: center;
            margin-bottom: 24px;
        }
        .timer-number {
            font-size: 80px;
            font-weight: bold;
            line-height: 1;
            margin-bottom: 12px;
        }
        .timer-label {
            font-size: 24px;
            font-weight: 600;
        }
        .work { color: #dc2626; }
        .rest { color: #2563eb; }
        .exercise-box {
            background: linear-gradient(135deg, #fef2f2 0%, #fff7ed 100%);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 24px;
        }
        .exercise-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 12px;
        }
        .exercise-name {
            font-size: 24px;
            font-weight: bold;
            color: #1f2937;
        }
        .info-btn {
            background: none;
            border: none;
            color: #dc2626;
            font-size: 24px;
            cursor: pointer;
            padding: 0 8px;
        }
        .exercise-info {
            background: white;
            border-left: 4px solid #dc2626;
            padding: 16px;
            margin-bottom: 12px;
            border-radius: 4px;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.6;
            display: none;
        }
        .exercise-info.show { display: block; }
        .exercise-counter {
            font-size: 14px;
            color: #666;
        }
        .buttons {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 24px;
        }
        .button-row {
            display: flex;
            gap: 12px;
        }
        button {
            flex: 1;
            padding: 16px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .btn-full { width: 100%; }
        .btn-start { background: #16a34a; }
        .btn-start:hover { background: #15803d; }
        .btn-pause { background: #eab308; }
        .btn-pause:hover { background: #ca8a04; }
        .btn-reset { background: #6b7280; }
        .btn-reset:hover { background: #4b5563; }
        .btn-next { background: #2563eb; }
        .btn-next:hover { background: #1d4ed8; }
        .btn-next:disabled { background: #d1d5db; cursor: not-allowed; }
        .complete-box {
            background: #dcfce7;
            border: 2px solid #16a34a;
            border-radius: 12px;
            padding: 24px;
            text-align: center;
            margin-bottom: 24px;
        }
        .complete-emoji { font-size: 48px; margin-bottom: 12px; }
        .complete-title { font-size: 24px; font-weight: bold; color: #16a34a; margin-bottom: 8px; }
        .complete-text { color: #4b5563; }
        .exercise-list {
            margin-top: 24px;
        }
        .exercise-list h3 {
            font-size: 16px;
            font-weight: bold;
            color: #4b5563;
            margin-bottom: 12px;
        }
        .exercise-item {
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 8px;
            background: #f9fafb;
        }
        .exercise-item.active {
            background: #fee2e2;
            border: 2px solid #dc2626;
        }
        .exercise-item-name { font-weight: 600; margin-bottom: 4px; }
        .exercise-item-time { font-size: 14px; color: #666; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üî• Brandmans Intervalltr√§ning</h1>
        <div class="subtitle">30 minuter ‚Ä¢ Kroppsvikt ‚Ä¢ Betonggolv OK</div>

```
    <div class="progress-box">
        <div class="progress-header">
            <span id="blockName">Block 1: Kondition</span>
            <span id="roundInfo">Varv 1/4</span>
        </div>
        <div class="progress-bar">
            <div class="progress-fill" id="progressBar"></div>
        </div>
    </div>

    <div class="timer">
        <div class="timer-number" id="timerNumber">0</div>
        <div class="timer-label" id="timerLabel">üí™ K√ñR!</div>
    </div>

    <div class="exercise-box">
        <div class="exercise-header">
            <h2 class="exercise-name" id="exerciseName">Burpees</h2>
            <button class="info-btn" id="infoBtn" onclick="toggleInfo()">‚ÑπÔ∏è</button>
        </div>
        <div class="exercise-info" id="exerciseInfo"></div>
        <div class="exercise-counter" id="exerciseCounter">√ñvning 1 av 4</div>
    </div>

    <div class="buttons">
        <button class="btn-start btn-full" id="startBtn" onclick="startTimer()">‚ñ∂Ô∏è Starta</button>
        <button class="btn-pause btn-full" id="pauseBtn" onclick="pauseTimer()" style="display:none;">‚è∏Ô∏è Pausa</button>
        <div class="button-row">
            <button class="btn-reset" onclick="resetWorkout()">üîÑ √Öterst√§ll</button>
            <button class="btn-next" id="nextBtn" onclick="nextExercise()">N√§sta ‚û°Ô∏è</button>
        </div>
    </div>

    <div id="completeBox" style="display:none;" class="complete-box">
        <div class="complete-emoji">üéâ</div>
        <div class="complete-title">Grattis! Passet klart!</div>
        <div class="complete-text">Bra jobbat brandman! üí™üî•</div>
    </div>

    <div class="exercise-list">
        <h3>Alla √∂vningar i detta block:</h3>
        <div id="exerciseList"></div>
    </div>
</div>

<script>
    const workout = [
        {
            name: "Block 1: Kondition",
            rounds: 4,
            workTime: 40,
            restTime: 20,
            exercises: [
                { name: "Burpees", description: "1. St√• uppr√§tt\n2. S√§tt h√§nderna i golvet\n3. Hoppa benen bak√•t till plankposition\n4. Hoppa benen fram igen\n5. St√• upp och hoppa\n\nTips: G√∂r push-up i plankan om du orkar!" },
                { name: "Mountain Climbers", description: "1. B√∂rja i plankposition (raka armar)\n2. Dra h√∂ger kn√§ mot br√∂stet\n3. Byt snabbt - v√§nster kn√§ fram\n4. Forts√§tt v√§xla i snabb takt\n\nTips: H√•ll h√∂ften l√•g, r√∂r benen snabbt!" },
                { name: "Jump Squats", description: "1. St√• med f√∂tterna brett is√§r\n2. G√• ner i djup kn√§b√∂j\n3. Explodera upp i ett hopp\n4. Landa mjukt och g√• direkt ner igen\n\nTips: Landa p√• mjuka kn√§n f√∂r att skona leden!" },
                { name: "High Knees", description: "1. Spring p√• plats\n2. Lyft kn√§na s√• h√∂gt du kan\n3. H√•ll h√∂g tempo\n4. Pumpa med armarna\n\nTips: Kn√§na ska upp mot br√∂sth√∂jd!" }
            ]
        },
        {
            name: "Block 2: Styrka",
            rounds: 3,
            workTime: 45,
            restTime: 15,
            exercises: [
                { name: "Push-ups", description: "1. Plankposition med h√§nderna axelbrett\n2. S√§nk kroppen genom att b√∂ja armb√•garna\n3. Tryck upp till utg√•ngsl√§get\n4. H√•ll kroppen rak hela tiden\n\nTips: G√∂r p√• kn√§na om det √§r f√∂r tungt!" },
                { name: "Walking Lunges", description: "1. St√• uppr√§tt\n2. Ta ett stort steg fram√•t med h√∂ger ben\n3. S√§nk v√§nster kn√§ mot golvet\n4. Res dig och ta n√§sta steg med v√§nster\n5. Forts√§tt g√• fram√•t\n\nTips: H√•ll √∂verkroppen uppr√§tt, kn√§et bakom t√•rna!" },
                { name: "Plank Hold", description: "1. Ligg p√• mage\n2. St√∂d p√• underarmarna och t√•rna\n3. Lyft kroppen - bli rak som en planka\n4. H√•ll position\n\nTips: Sp√§nn mage och rumpa, andas lugnt!" },
                { name: "Squat Hold", description: "1. G√• ner i djup kn√§b√∂j\n2. H√•ll positionen\n3. Armarna rakt fram f√∂r balans\n4. Tyngden p√• h√§larna\n\nTips: Se fram√•t, h√•ll ryggen rak!" },
                { name: "Triceps Dips", description: "1. Sitt p√• golvet, h√§nderna bakom dig\n2. B√∂j kn√§na, f√∂tterna i golvet\n3. Lyft h√∂ften fr√•n golvet\n4. B√∂j och str√§ck armb√•garna\n\nTips: Armb√•garna bak√•t, inte ut √•t sidorna!" }
            ]
        },
        {
            name: "Block 3: Funktionellt",
            rounds: 4,
            workTime: 35,
            restTime: 25,
            exercises: [
                { name: "Burpee Hopp", description: "1. St√• uppr√§tt\n2. S√§tt h√§nderna i golvet\n3. Hoppa benen bak√•t\n4. Hoppa benen fram\n5. Hoppa p√• plats 3 g√•nger\n\nTips: Explosiva hopp, landa mjukt!" },
                { name: "Bear Crawl", description: "1. P√• h√§nder och f√∂tter, kn√§n ovanf√∂r golvet\n2. Crawla fram√•t 3-4 meter\n3. Crawla bak√•t till start\n4. Repetera\n\nTips: H√•ll ryggen rak, kn√§n l√•gt!" },
                { name: "Plank Shoulder Taps", description: "1. I plankposition\n2. Lyft h√∂ger hand och nudda v√§nster axel\n3. Tillbaka, byt hand\n4. Forts√§tt v√§xla\n\nTips: H√•ll h√∂ften stilla, vrid inte!" },
                { name: "Skater Jumps", description: "1. Hoppa √•t sidan p√• h√∂ger ben\n2. V√§nster ben sveper bakom\n3. Hoppa tillbaka p√• v√§nster ben\n4. Forts√§tt v√§xla sidor\n\nTips: Stora hopp, balansera p√• ett ben!" },
                { name: "Superman Holds", description: "1. Ligg p√• mage\n2. Str√§ck ut armarna fram√•t\n3. Lyft armar och ben samtidigt\n4. H√•ll position\n\nTips: Titta ner i golvet, sp√§nn hela kroppen!" }
            ]
        }
    ];

    let currentBlock = 0;
    let currentExercise = 0;
    let currentRound = 1;
    let timeLeft = 0;
    let isRunning = false;
    let isRest = false;
    let timer = null;
    let infoVisible = false;
    let audioContext = null;
    let hasPlayedBeep = false;

    function playBeep(frequency, duration) {
        if (!audioContext) {
            audioContext = new (window.AudioContext || window.webkitAudioContext)();
        }
        
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();
        
        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);
        
        oscillator.frequency.value = frequency;
        oscillator.type = 'sine';
        
        gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
        
        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + duration);
    }

    function updateDisplay() {
        const block = workout[currentBlock];
        const exercise = block.exercises[currentExercise];
        
        document.getElementById('blockName').textContent = block.name;
        document.getElementById('roundInfo').textContent = `Varv ${currentRound}/${block.rounds}`;
        document.getElementById('exerciseName').textContent = isRest ? 'Vila - N√§sta:' : exercise.name;
        document.getElementById('exerciseInfo').textContent = exercise.description;
        document.getElementById('exerciseCounter').textContent = `√ñvning ${currentExercise + 1} av ${block.exercises.length}`;
        document.getElementById('timerNumber').textContent = timeLeft;
        
        const timerNum = document.getElementById('timerNumber');
        const timerLabel = document.getElementById('timerLabel');
        
        if (isRest) {
            timerNum.className = 'timer-number rest';
            timerLabel.className = 'timer-label rest';
            timerLabel.textContent = 'üíß VILA';
        } else {
            timerNum.className = 'timer-number work';
            timerLabel.className = 'timer-label work';
            timerLabel.textContent = 'üí™ K√ñR!';
        }
        
        const progress = ((currentExercise + 1) / block.exercises.length) * 100;
        document.getElementById('progressBar').style.width = progress + '%';
        
        updateExerciseList();
    }

    function updateExerciseList() {
        const block = workout[currentBlock];
        const list = document.getElementById('exerciseList');
        list.innerHTML = '';
        
        block.exercises.forEach((ex, idx) => {
            const item = document.createElement('div');
            item.className = 'exercise-item' + (idx === currentExercise ? ' active' : '');
            item.innerHTML = `
                <div class="exercise-item-name">${ex.name}</div>
                <div class="exercise-item-time">${block.workTime}s arbete / ${block.restTime}s vila</div>
            `;
            list.appendChild(item);
        });
    }

    function toggleInfo() {
        infoVisible = !infoVisible;
        const info = document.getElementById('exerciseInfo');
        info.className = 'exercise-info' + (infoVisible ? ' show' : '');
    }

    function startTimer() {
        const block = workout[currentBlock];
        if (timeLeft === 0) {
            timeLeft = isRest ? block.restTime : block.workTime;
        }
        isRunning = true;
        document.getElementById('startBtn').style.display = 'none';
        document.getElementById('pauseBtn').style.display = 'block';
        document.getElementById('nextBtn').disabled = false;
        
        timer = setInterval(() => {
            timeLeft--;
            
            // Spela ljud n√§r 5 sekunder kvar
            if (timeLeft === 5) {
                playBeep(800, 0.1);
                hasPlayedBeep = false;
            } else if (timeLeft <= 4 && timeLeft >= 1) {
                playBeep(800, 0.1);
            } else if (timeLeft === 0) {
                playBeep(1200, 0.3); // H√∂gre ton n√§r tiden √§r slut
                hasPlayedBeep = false;
            }
            
            updateDisplay();
            if (timeLeft <= 0) {
                nextExercise();
            }
        }, 1000);
    }

    function pauseTimer() {
        isRunning = false;
        clearInterval(timer);
        document.getElementById('startBtn').style.display = 'block';
        document.getElementById('pauseBtn').style.display = 'none';
    }

    function nextExercise() {
        clearInterval(timer);
        const block = workout[currentBlock];
        
        if (isRest) {
            if (currentExercise < block.exercises.length - 1) {
                currentExercise++;
                timeLeft = block.workTime;
                isRest = false;
            } else {
                if (currentRound < block.rounds) {
                    currentRound++;
                    currentExercise = 0;
                    timeLeft = block.workTime;
                    isRest = false;
                } else {
                    if (currentBlock < workout.length - 1) {
                        currentBlock++;
                        currentExercise = 0;
                        currentRound = 1;
                        timeLeft = workout[currentBlock].workTime;
                        isRest = false;
                        isRunning = false;
                        document.getElementById('startBtn').style.display = 'block';
                        document.getElementById('pauseBtn').style.display = 'none';
                    } else {
                        isRunning = false;
                        document.getElementById('completeBox').style.display = 'block';
                        document.getElementById('startBtn').style.display = 'block';
                        document.getElementById('pauseBtn').style.display = 'none';
                        updateDisplay();
                        return;
                    }
                }
            }
        } else {
            timeLeft = block.restTime;
            isRest = true;
        }
        
        infoVisible = false;
        updateDisplay();
        
        if (isRunning) {
            timer = setInterval(() => {
                timeLeft--;
                
                // Spela ljud n√§r 5 sekunder kvar
                if (timeLeft === 5) {
                    playBeep(800, 0.1);
                    hasPlayedBeep = false;
                } else if (timeLeft <= 4 && timeLeft >= 1) {
                    playBeep(800, 0.1);
                } else if (timeLeft === 0) {
                    playBeep(1200, 0.3); // H√∂gre ton n√§r tiden √§r slut
                    hasPlayedBeep = false;
                }
                
                updateDisplay();
                if (timeLeft <= 0) {
                    nextExercise();
                }
            }, 1000);
        }
    }

    function resetWorkout() {
        clearInterval(timer);
        currentBlock = 0;
        currentExercise = 0;
        currentRound = 1;
        timeLeft = 0;
        isRunning = false;
        isRest = false;
        infoVisible = false;
        document.getElementById('completeBox').style.display = 'none';
        document.getElementById('startBtn').style.display = 'block';
        document.getElementById('pauseBtn').style.display = 'none';
        document.getElementById('nextBtn').disabled = true;
        updateDisplay();
    }

    updateDisplay();
    document.getElementById('nextBtn').disabled = true;
</script>
```

</body>
</html>
